(this.webpackJsonpeatlas=this.webpackJsonpeatlas||[]).push([[3],{2078:function(t,e,a){"use strict";a.r(e),a.d(e,"default",(function(){return _}));var n=a(58),r=a(59),c=a(101),i=a(70),s=a(71),l=a(2),d=a.n(l),j=a(63),o=a(2023),b=a(20),h=a(697),u=a(65),O=a.n(u),f=a(629),g=a(708),k=a(643),p=a(91),x=a(39),v=a(3);function y(t){var e=Object(l.useState)(t.data),a=Object(x.a)(e,2),n=a[0],r=a[1];Object(l.useEffect)((function(){r(t.data)}),[t.data]);var c=n[0].geometry&&n[0].geometry.coordinates.join(" - ");return Object(v.jsxs)("div",{style:{color:"white"},children:["First row is: "," "," ",Object(p.g)(n[0]),Object(v.jsx)("p",{style:{wordBreak:"break-all"},children:c.length>50?c.substring(0,50)+" ... "+c.length+" characters long.":c})]})}var m=a(698),w=a(977),S=O.a.PRD_URL,_=function(t){Object(i.a)(a,t);var e=Object(s.a)(a);function a(t){var r;return Object(n.a)(this,a),(r=e.call(this,t)).state={checked:!1,loading:!0},r._fetchAndUpdateState=r._fetchAndUpdateState.bind(Object(c.a)(r)),r._generateBarChart=r._generateBarChart.bind(Object(c.a)(r)),r}return Object(r.a)(a,[{key:"_generateBarChart",value:function(t,e){var a=this.state.data;if(t&&e){var n=e;e.length>10&&(n=n.slice(0,10));var r=Object(p.e)(a,t,n);return Object(v.jsxs)(j.b,{margin:{left:100,bottom:100},title:Object(b.t)(t),xType:"ordinal",width:400,height:320,style:{padding:10},children:[Object(v.jsx)(j.m,{style:{text:{fill:"#fff"}},tickPadding:10,tickLabelAngle:-45,tickFormat:function(t){return Object(o.a)(".2s")(t)}}),Object(v.jsx)(j.k,{style:{text:{fill:"#fff"}},tickLabelAngle:-45,tickFormat:function(t){return(t+"").length>15?(t+"").substring(0,8)+"...":t}}),Object(v.jsx)(j.j,{data:r})]})}}},{key:"_fetchAndUpdateState",value:function(t){var e=this,a=t||S+"/api/stats19";Object(b.h)(a,(function(a,n){n?e.setState({loading:!1}):e.setState({loading:!1,data:a.features,name:t||S})}))}},{key:"componentDidMount",value:function(){this._fetchAndUpdateState()}},{key:"render",value:function(){var t=this,e=this.state,a=e.data,n=e.key,r=e.sublist,c=e.name,i=e.loading,s=this.props.dark;return Object(v.jsxs)("div",{className:"content",style:{background:s?"#242730":"white",margin:"auto",padding:"5%",color:s?"#a3a5a8":"black"},children:[Object(v.jsx)(f.a,{contentCallback:function(e){var a=e.text,n=e.name;try{var r=JSON.parse(a);t.setState({name:n,data:r.features})}catch(c){}}}),Object(v.jsx)("center",{children:Object(v.jsx)(k.a,{dark:s,urlCallback:function(e){t._fetchAndUpdateState(e)}})}),i&&Object(v.jsx)("div",{id:"loading"}),a&&Object(v.jsxs)("h3",{children:["There are "," ".concat(a.length," ")," features in this (",Object(b.z)(c),") resource."]}),a&&a.length>0&&Object(v.jsx)(h.a,{dark:this.props.dark,data:a,propertyValuesCallback:function(e){var a=e.key,n=e.sublist;return t.setState({key:a,sublist:n.sort((function(t,e){return t-e}))})}}),a&&a.length>0&&Object(v.jsx)(y,{data:a}),n&&r&&Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("hr",{}),Object(v.jsx)(g.a,{title:Object(b.t)(n),sublist:r})]}),n&&r&&Object(v.jsxs)("center",{children:[Object(v.jsxs)("h5",{children:["For (",Object(b.t)(n),") and its variables:"]}),Object(v.jsx)("hr",{}),this._generateBarChart(n,r)]}),Object(v.jsx)(w.a,{data:a,noAccordion:!0,noLimit:!0,plotStyle:{width:window.innerWidth>960?960:window.innerWidth}}),Object(v.jsx)("p",{children:"Data preview:"}),Object(v.jsx)(m.a,{data:a})]})}}]),a}(d.a.Component)}}]);
//# sourceMappingURL=3.4bc20b6d.chunk.js.map